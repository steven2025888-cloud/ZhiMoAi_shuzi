
/* ════════════════════════════════════════
   织梦AI — 商业UI主题  v5.0
   ════════════════════════════════════════ */

/* ── 隐藏Gradio系统元素 ── */
footer,.footer,.built-with,#footer,.show-api,.api-docs,
a[href*="gradio.app"],a[href*="huggingface"],
button[aria-label="Settings"],.hamburger-menu,span.version
{display:none!important;height:0!important;overflow:hidden!important;}

/* ── 顶部标题栏 ── */
.app-header{
  background:rgba(255,255,255,0.15)!important;
  backdrop-filter:blur(20px)!important;
  border-radius:16px!important;
  padding:20px 32px!important;
  margin-bottom:20px!important;
  box-shadow:0 4px 24px rgba(0,0,0,.1)!important;
  display:flex!important;
  align-items:center!important;
  justify-content:center!important;
}
.app-header h1{
  font-size:32px!important;
  font-weight:800!important;
  color:#fff!important;
  margin:0!important;
  letter-spacing:1px!important;
  text-shadow:0 2px 12px rgba(0,0,0,.3)!important;
}

/* ── 全局 ── */
*{box-sizing:border-box;}
body,.gradio-container{
  background:linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #60a5fa 100%)!important;
  font-family:'Microsoft YaHei',system-ui,sans-serif!important;
  min-height:100vh!important;
}
.gradio-container{
  padding:0!important;
  min-height:0!important;
  overflow-x:hidden!important;
  max-width:none!important;
  width:100%!important;
  margin:0 auto!important;
}

/* ── 增加工作台内容区宽度 ── */
.gradio-container > .main{
  max-width:none!important;
  padding:0!important;
}

/* ── Tab 导航 ── */
.tabs button[role=tab]{
  font-size:14px!important;font-weight:600!important;
  padding:12px 24px!important;border-radius:12px!important;
  color:rgba(255,255,255,0.7)!important;border:none!important;
  background:rgba(255,255,255,0.1)!important;
  transition:all .3s!important;
  margin:0 6px!important;
}
.tabs button[role=tab][aria-selected=true]{
  color:#fff!important;font-weight:700!important;
  background:rgba(255,255,255,0.25)!important;
  box-shadow:0 4px 12px rgba(0,0,0,0.15)!important;
  border:none!important;
}

/* ── 工作台布局 ── */
.workspace{
  gap:12px!important;
  padding:8px!important;
  align-items:stretch!important;
}
.workspace > .column{gap:12px!important;}

/* ── 面板卡片 ── */
.panel{
  background:#fff!important;
  border:1px solid #e5e7eb!important;
  border-radius:16px!important;
  padding:12px!important;
  box-shadow:0 2px 8px rgba(0,0,0,.06)!important;
  transition:all .3s!important;
}
.panel:hover{
  box-shadow:0 4px 16px rgba(0,0,0,.1)!important;
  border-color:#d1d5db!important;
}

/* 工作台记录面板不使用hover效果，避免下拉框错位 */
#workspace-record-panel.panel:hover {
  transform: none!important;
}

/* ── 步骤标题栏（在白色卡片外面）── */
.step-header{
  display:flex;
  align-items:center;
  gap:10px;
  padding:0 0 8px 0!important;
  margin:0 0 8px 0!important;
  border:none!important;
  background:transparent!important;
}
.step-num{
  width:28px;
  height:28px;
  border-radius:8px;
  flex-shrink:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:13px;
  font-weight:800;
  color:#fff;
  background:rgba(255,255,255,0.25)!important;
  backdrop-filter:blur(10px)!important;
  box-shadow:0 2px 8px rgba(0,0,0,.15)!important;
}
.step-title{
  font-size:15px;
  font-weight:800;
  color:#fff!important;
  letter-spacing:.5px;
  text-shadow:0 2px 8px rgba(0,0,0,.2)!important;
}
.step-badge{
  margin-left:auto;
  font-size:10px;
  font-weight:700;
  padding:3px 10px;
  border-radius:12px;
  background:rgba(255,255,255,0.2)!important;
  color:#fff!important;
  white-space:nowrap;
  backdrop-filter:blur(10px)!important;
}

/* ── 分割线 ── */
.divider{height:1px;background:#f1f5f9;margin:12px 0;}

/* ── 子区块标签 ── */
.section-label{
  font-size:12px;font-weight:700;color:#7c3aed;
  text-transform:uppercase;letter-spacing:.8px;
  margin:14px 0 8px;
  display:flex;align-items:center;gap:6px;
}
.section-label::before{
  content:'';width:4px;height:14px;border-radius:3px;
  background:linear-gradient(135deg,#7c3aed,#a855f7);display:inline-block;
}

/* ── 按钮 ── */
.gr-button-primary, button.primary{
  background:linear-gradient(135deg,#7c3aed,#a855f7)!important;
  border:none!important;color:#fff!important;
  border-radius:12px!important;font-weight:700!important;
  font-size:14px!important;
  padding:12px 24px!important;
  box-shadow:0 4px 16px rgba(124,58,237,.35)!important;
  transition:all .3s!important;
}
.gr-button-primary:hover, button.primary:hover{
  box-shadow:0 6px 24px rgba(124,58,237,.5)!important;
  transform:translateY(-2px)!important;
}
.gr-button-secondary, button.secondary{
  background:#fff!important;border:2px solid #e5e7eb!important;
  color:#475569!important;border-radius:12px!important;font-weight:600!important;
  font-size:14px!important;
  padding:12px 24px!important;
  transition:all .3s!important;
}
.gr-button-secondary:hover, button.secondary:hover{
  background:#f8fafc!important;border-color:#cbd5e1!important;
  transform:translateY(-1px)!important;
}

/* ── 输入控件 ── */
input[type=text],textarea,.gr-textbox input,.gr-textbox textarea{
  border:2px solid #e5e7eb!important;
  border-radius:12px!important;
  font-size:14px!important;
  padding:10px 14px!important;
  transition:all .3s!important;
  background:#fff!important;
}
input[type=text]:focus,textarea:focus{
  border-color:#7c3aed!important;
  box-shadow:0 0 0 4px rgba(124,58,237,.15)!important;
  background:#fff!important;
}
input[type=range]{accent-color:#7c3aed!important;}

/* ── Dropdown ── */
.gr-dropdown select,.gr-dropdown .wrap-inner{
  border:2px solid #e5e7eb!important;border-radius:12px!important;
  background:#fff!important;
  font-size:14px!important;
  padding:10px 14px!important;
}

/* ── 音频 / 视频组件 ── */
.gr-audio{border-radius:12px!important;border:1.5px solid #f1f5f9!important;}
.gr-video{border-radius:12px!important;overflow:hidden!important;}
audio{border-radius:8px!important;}

/* ── ColorPicker 美化（弹窗选色）── */
.gr-color-picker, [class*="color-picker"], .colorpicker{
  min-width:90px!important;
}
/* 颜色色块本体：固定样式，确保白色等浅色可见 */
input[type=color]{
  width:100%!important;min-width:80px!important;
  height:42px!important;cursor:pointer!important;
  border-radius:10px!important;
  border:2px solid #94a3b8!important;
  padding:3px!important;
  background:#fff!important;
  box-shadow:inset 0 0 0 1.5px #94a3b8, 0 1px 4px rgba(0,0,0,.1)!important;
  transition:border-color .2s,box-shadow .2s!important;
}
input[type=color]:hover{
  border-color:#7c3aed!important;
  box-shadow:inset 0 0 0 1.5px #7c3aed, 0 0 0 3px rgba(124,58,237,.15)!important;
}
/* 字幕面板内颜色行：固定高度，防止拉伸变形 */
.subtitle-panel .gr-row > *{ min-width:90px!important; }

/* ── Accordion ── */
.gr-accordion{border:1.5px solid #f1f5f9!important;border-radius:12px!important;}
.gr-accordion summary{
  font-size:13px!important;font-weight:700!important;color:#475569!important;
  background:#f8fafc!important;border-radius:10px!important;padding:10px 14px!important;
}

/* ── 字幕面板 ── */
.subtitle-panel{
  background:linear-gradient(135deg,#f0f9ff 0%,#e0f2fe 100%);
  border:2px solid #bae6fd;
  border-radius:14px;padding:14px;margin-top:12px;
  max-height:60vh;
  overflow-y:auto;
}
.subtitle-panel-head{
  display:flex;align-items:center;gap:8px;
  margin-bottom:10px;
  position:sticky;top:0;z-index:2;
  background:linear-gradient(135deg,#f0f9ff 0%,#e0f2fe 100%);
  padding-bottom:6px;
}
.subtitle-panel-icon{
  width:28px;height:28px;border-radius:8px;
  background:linear-gradient(135deg,#0ea5e9,#0284c7);
  display:flex;align-items:center;justify-content:center;
  font-size:14px;flex-shrink:0;
  box-shadow:0 2px 6px rgba(14,165,233,.3);
}
.subtitle-panel-title{font-size:14px;font-weight:800;color:#0c4a6e;}
.subtitle-panel-tip{margin-left:auto;font-size:10px;color:#0369a1;
  background:#e0f2fe;border:1px solid #bae6fd;
  padding:2px 8px;border-radius:20px;}

/* ── 字幕高级设置弹窗 ── */
#sub-settings-modal{
  position:fixed!important;top:0!important;left:0!important;
  width:100vw!important;height:100vh!important;z-index:9990!important;
  display:flex!important;align-items:center!important;justify-content:center!important;
  background:rgba(15,23,42,.55)!important;backdrop-filter:blur(12px)!important;
  padding:0!important;margin:0!important;border:none!important;border-radius:0!important;box-shadow:none!important;
}
#sub-settings-modal>div{
  background:#ffffff!important;border-radius:18px!important;
  padding:28px 28px 22px 28px!important;max-width:860px!important;
  width:94%!important;
  box-shadow:0 20px 60px rgba(0,0,0,.18),0 0 0 1px rgba(186,230,253,.6)!important;
  border:2px solid #bae6fd!important;
  max-height:85vh!important;
  overflow-y:auto!important;
  scrollbar-gutter:stable!important;
}
/* 弹窗细滚动条 */
#sub-settings-modal>div::-webkit-scrollbar{width:5px;}
#sub-settings-modal>div::-webkit-scrollbar-track{background:transparent;}
#sub-settings-modal>div::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px;}
#sub-settings-modal>div::-webkit-scrollbar-thumb:hover{background:#94a3b8;}
/* 左右两栏布局 */
.sub-modal-columns{
  gap:20px!important;align-items:flex-start!important;
}
.sub-modal-columns>div{
  background:#f8fafc!important;border:1.5px solid #e2e8f0!important;
  border-radius:14px!important;padding:16px!important;
}
/* 弹窗内颜色选择器修正：覆盖全局 width:100%，改为固定宽度 */
#sub-settings-modal input[type=color]{
  width:48px!important;min-width:48px!important;max-width:48px!important;
  height:36px!important;flex-shrink:0!important;
  border-radius:8px!important;padding:2px!important;
  margin-right:6px!important;
}
/* 颜色选择器整体容器 */
#sub-settings-modal .gr-color-picker,
#sub-settings-modal [class*="color-picker"]{
  overflow:visible!important;
}
/* 弹窗内所有 block 减少间距 */
#sub-settings-modal .block{margin-top:0!important;padding-top:0!important;}
#sub-settings-modal .block .wrap{gap:8px!important;}
/* 弹窗内行间距 */
#sub-settings-modal>.form>.block{margin-bottom:2px!important;}
/* section 标签 */
.sub-modal-section{
  font-size:12px;font-weight:800;color:#0c4a6e;
  padding:7px 12px;margin:12px 0 6px;
  background:linear-gradient(135deg,rgba(224,242,254,.6),rgba(186,230,253,.3));
  border-radius:8px;border-left:3px solid #0ea5e9;
  letter-spacing:.3px;
}
/* 弹窗内第一个 section 不需要 margin-top */
#sub-settings-modal .sub-modal-section:first-of-type{margin-top:0;}
/* 高级设置入口按钮 */
.sub-settings-btn{
  margin-top:8px!important;
  border:1.5px dashed #bae6fd!important;
  color:#0369a1!important;
  background:rgba(224,242,254,.4)!important;
  font-weight:700!important;
  font-size:12px!important;
  border-radius:8px!important;
  padding:6px 14px!important;
  transition:all .2s!important;
}
.sub-settings-btn:hover{
  background:rgba(186,230,253,.5)!important;
  border-color:#0ea5e9!important;
}
/* 取消 / 确定按钮：统一高度 + 美化 */
.sub-modal-close-btn{
  margin-top:10px!important;
  height:42px!important;min-height:42px!important;max-height:42px!important;
  display:inline-flex!important;align-items:center!important;justify-content:center!important;
  padding:0 28px!important;font-size:14px!important;font-weight:700!important;
  box-sizing:border-box!important;
  border-radius:12px!important;
  transition:all .2s ease!important;
  letter-spacing:.3px!important;
}
/* 确定按钮：蓝色渐变 */
#sub-settings-modal .sub-modal-close-btn.primary,
#sub-settings-modal button.primary.sub-modal-close-btn{
  background:linear-gradient(135deg,#0ea5e9,#0284c7)!important;
  border:none!important;color:#fff!important;
  box-shadow:0 4px 14px rgba(14,165,233,.35)!important;
}
#sub-settings-modal .sub-modal-close-btn.primary:hover,
#sub-settings-modal button.primary.sub-modal-close-btn:hover{
  box-shadow:0 6px 20px rgba(14,165,233,.45)!important;
  transform:translateY(-1px)!important;
}
/* 取消按钮：淡雅边框 */
#sub-settings-modal .sub-modal-close-btn.secondary,
#sub-settings-modal button.secondary.sub-modal-close-btn{
  background:#f8fafc!important;
  border:1.5px solid #e2e8f0!important;
  color:#64748b!important;
  box-shadow:none!important;
}
#sub-settings-modal .sub-modal-close-btn.secondary:hover,
#sub-settings-modal button.secondary.sub-modal-close-btn:hover{
  background:#f1f5f9!important;
  border-color:#cbd5e1!important;
  color:#475569!important;
}
/* AI改写提示区：空时折叠 */
#sub-rewrite-hint{min-height:0!important;margin:0!important;padding:0!important;}
#sub-rewrite-hint .prose:empty,
#sub-rewrite-hint>div:empty{display:none!important;height:0!important;}
#subtitle-panel-tail{
  background:linear-gradient(135deg,#f0f9ff 0%,#e0f2fe 100%)!important;
  border:2px solid #bae6fd!important;
  border-top:none!important;
  border-radius:0 0 14px 14px!important;
  padding:14px!important;
  margin-top:-2px!important;
  max-height:none!important;
  overflow:visible!important;
}
#subtitle-panel-main{
  border-radius:14px 14px 0 0!important;
  margin-bottom:0!important;
}

/* ── 字幕位置选择器 ── */
.sub-pos-radio{min-width:0!important;}
.sub-pos-radio .wrap{
  display:flex!important;gap:4px!important;flex-direction:row!important;flex-wrap:nowrap!important;
  width:100%!important;
}
.sub-pos-radio label{
  flex:1 1 0%!important;
  padding:0!important;margin:0!important;border-radius:8px!important;
  border:2px solid #e2e8f0!important;
  cursor:pointer!important;transition:all .18s!important;
  background:#f8fafc!important;
  height:36px!important;min-width:0!important;max-width:none!important;
  display:flex!important;align-items:center!important;justify-content:center!important;
  box-sizing:border-box!important;
  overflow:hidden!important;white-space:nowrap!important;
}
/* 关键：让 Gradio 嵌套的所有 span 都居中 */
.sub-pos-radio label>*:not(input),
.sub-pos-radio label span,
.sub-pos-radio label span span,
.sub-pos-radio label [data-testid]{
  display:flex!important;align-items:center!important;justify-content:center!important;
  width:100%!important;height:100%!important;
  font-size:14px!important;font-weight:800!important;
  text-align:center!important;
  margin:0!important;padding:0!important;
  pointer-events:none!important;
  color:inherit!important;
}
.sub-pos-radio label:has(input:checked){
  border-color:#0ea5e9!important;background:linear-gradient(135deg,#e0f2fe,#bae6fd)!important;
  color:#0c4a6e!important;box-shadow:0 2px 8px rgba(14,165,233,.25)!important;
  transform:scale(1.02)!important;
}
.sub-pos-radio label:hover:not(:has(input:checked)){
  border-color:#bae6fd!important;background:#f0f9ff!important;
}
.sub-pos-radio input[type="radio"]{
  display:none!important;width:0!important;height:0!important;
  position:absolute!important;opacity:0!important;
}

/* ── 音频模式选择器 ── */
.audio-mode-radio .wrap{
  display:flex!important;gap:6px!important;flex-direction:row!important;
}
.audio-mode-radio label{
  flex:1 1 0%!important;text-align:center!important;font-size:13px!important;font-weight:700!important;
  padding:10px 8px!important;border-radius:10px!important;
  border:2px solid #e2e8f0!important;
  cursor:pointer!important;transition:all .18s!important;
  background:#f8fafc!important;
  display:inline-flex!important;align-items:center!important;justify-content:center!important;
}
.audio-mode-radio label:has(input:checked){
  border-color:#7c3aed!important;background:linear-gradient(135deg,#f3e8ff,#e9d5ff)!important;
  color:#6b21a8!important;box-shadow:0 2px 8px rgba(124,58,237,.25)!important;
}
.audio-mode-radio label:hover:not(:has(input:checked)){
  border-color:#ddd6fe!important;background:#faf5ff!important;
}
.audio-mode-radio input[type="radio"]{
  display:none!important;width:0!important;height:0!important;
  position:absolute!important;opacity:0!important;
}

/* ── 语音风格选择器 ── */
.voice-style-radio .wrap{
  display:flex!important;gap:6px!important;flex-direction:row!important;flex-wrap:wrap!important;
}
.voice-style-radio label{
  flex:1 1 auto!important;text-align:center!important;font-size:12px!important;font-weight:600!important;
  padding:7px 12px!important;border-radius:8px!important;
  border:1.5px solid #e2e8f0!important;
  cursor:pointer!important;transition:all .18s!important;
  background:#f8fafc!important;min-width:60px!important;
  display:inline-flex!important;align-items:center!important;justify-content:center!important;
}
.voice-style-radio label:has(input:checked){
  border-color:#7c3aed!important;background:linear-gradient(135deg,#f3e8ff,#e9d5ff)!important;
  color:#6b21a8!important;box-shadow:0 2px 8px rgba(124,58,237,.25)!important;
  font-weight:700!important;
}
.voice-style-radio label:hover:not(:has(input:checked)){
  border-color:#ddd6fe!important;background:#faf5ff!important;
}
.voice-style-radio input[type="radio"]{
  display:none!important;width:0!important;height:0!important;
  position:absolute!important;opacity:0!important;
}

/* ── 关键词高亮 checkbox ── */
.kw-checkbox label{font-weight:700!important;font-size:13px!important;}
.kw-checkbox input[type=checkbox]{
  accent-color:#0ea5e9!important;width:16px!important;height:16px!important;
}

/* ── 发布平台多选样式 ── */
.publish-platform-checkbox .wrap{
  display:flex!important;
  flex-direction:column!important;
  gap:8px!important;
}
.publish-platform-checkbox label{
  display:flex!important;
  align-items:center!important;
  padding:10px 14px!important;
  border-radius:10px!important;
  border:2px solid #e5e7eb!important;
  background:#f8fafc!important;
  cursor:pointer!important;
  transition:all .2s!important;
  font-size:13px!important;
  font-weight:600!important;
}
.publish-platform-checkbox label:hover{
  border-color:#c4b5fd!important;
  background:#faf5ff!important;
}
.publish-platform-checkbox label:has(input:checked){
  border-color:#7c3aed!important;
  background:linear-gradient(135deg,#f3e8ff,#e9d5ff)!important;
  color:#6b21a8!important;
  font-weight:700!important;
  box-shadow:0 2px 8px rgba(124,58,237,.2)!important;
}
.publish-platform-checkbox input[type=checkbox]{
  width:18px!important;
  height:18px!important;
  margin-right:10px!important;
  accent-color:#7c3aed!important;
  cursor:pointer!important;
}

/* ── 数字人/音色 库卡片 ── */
.lib-card{
  background:#fff;border:1.5px solid #e5e7eb;border-radius:12px;
  padding:12px 14px;margin-bottom:8px;
  display:flex;align-items:center;gap:12px;
  box-shadow:0 1px 4px rgba(0,0,0,.04);
  transition:border-color .15s,box-shadow .15s;
}
.lib-card:hover{border-color:#a5b4fc;box-shadow:0 2px 8px rgba(99,102,241,.1);}

/* ── 输出视频区 ── */
#output-video-col{overflow:visible!important;}
#output-video video{
  max-height:calc(100vh - 220px)!important;width:100%!important;
  object-fit:contain!important;border-radius:12px!important;
  background:#0f172a!important;display:block!important;
}
#ls-detail-box{margin-bottom:10px;}
.hist-tab video{max-height:360px;}

/* 步骤3内的合成视频样式 */
#output-video {
  margin-top: 16px!important;
}
#ls-detail-box {
  margin-top: 12px!important;
  margin-bottom: 10px!important;
}

/* ── 提示横幅 ── */
.hint-ok{background:#f0fdf4;border:1.5px solid #bbf7d0;border-radius:10px;padding:8px 12px;font-size:12px;color:#15803d;font-weight:600;}
.hint-warn{background:#fff7ed;border:1.5px solid #fed7aa;border-radius:10px;padding:8px 12px;font-size:12px;color:#c2410c;font-weight:600;}
.hint-err{background:#fff1f2;border:1.5px solid #fecdd3;border-radius:10px;padding:8px 12px;font-size:12px;color:#be123c;font-weight:600;}


/* ── 进度 ── */
.progress-description,[class*="progress"] p,.progress-text,tqdm{white-space:pre-wrap!important;}

/* ── 清空弹窗 ── */
#clear-confirm-overlay{
  position:fixed!important;top:0!important;left:0!important;
  width:100vw!important;height:100vh!important;z-index:9990!important;
  display:flex!important;align-items:center!important;justify-content:center!important;
  background:rgba(15,23,42,.75)!important;backdrop-filter:blur(8px)!important;
  padding:0!important;margin:0!important;border:none!important;border-radius:0!important;box-shadow:none!important;
}
#clear-confirm-overlay>div.form{
  background:#fff!important;border-radius:20px!important;
  padding:36px 32px 28px!important;max-width:460px!important;
  width:90%!important;box-shadow:0 24px 64px rgba(0,0,0,.3)!important;border:none!important;
}

/* ── 批量任务 ── */
.bt-form,.bt-queue{
  background:#fff!important;border:1.5px solid #e5e7eb!important;
  border-radius:14px!important;padding:16px 14px!important;
  box-shadow:0 2px 8px rgba(0,0,0,.04)!important;
}
.bt-step-row{display:flex;align-items:center;gap:8px;margin:12px 0 6px;padding-top:10px;border-top:1px solid #f1f5f9;}
.bt-step-label{font-size:13px;font-weight:700;color:#0f172a;}
.bt-section-title{font-size:12px;font-weight:700;color:#7c3aed;margin-bottom:6px;}
.bt-radio .wrap{flex-direction:row!important;flex-wrap:wrap!important;gap:6px!important;}
.bt-radio label{
  flex:1!important;text-align:center!important;font-size:12px!important;font-weight:600!important;
  padding:6px 10px!important;border-radius:8px!important;border:1.5px solid #e5e7eb!important;
  cursor:pointer!important;transition:all .15s!important;background:#fafafa!important;min-width:80px!important;
}
.bt-radio label:has(input:checked){border-color:#7c3aed!important;background:#f3e8ff!important;color:#6b21a8!important;}
.bt-badge{border-radius:20px;padding:2px 9px;font-size:11px;font-weight:700;display:inline-block;white-space:nowrap;}
.bt-badge-tts{background:#ede9fe;color:#6d28d9;}
.bt-badge-audio{background:#e0f2fe;color:#0369a1;}
.bt-badge-shared{background:#fce7f3;color:#9d174d;}
.bt-badge-own{background:#f0fdf4;color:#166534;}
#bt-progress-box{margin-top:10px;}
#bt-task-list{min-height:60px;margin-top:4px;}

/* ── 滚动条 ── */
::-webkit-scrollbar{width:4px;height:4px;}
::-webkit-scrollbar-track{background:transparent;}
::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px;}
::-webkit-scrollbar-thumb:hover{background:#94a3b8;}

/* ── 删除/预览桥接控件（不显示但保持DOM中以便JS触发）── */
#av-del-input, #vc-del-input,
#av-del-input-row, #vc-del-input-row,
#av-prev-trigger, #vc-prev-trigger,
#av-prev-trigger-row, #vc-prev-trigger-row {
  position:fixed!important;left:-10000px!important;
  width:1px!important;height:1px!important;
  overflow:hidden!important;opacity:0!important;
  pointer-events:none!important;z-index:-1!important;
}

/* ── 隐藏HTML容器的padding ── */
.html-container.svelte-phx28p.padding,
[class*="html-container"][class*="padding"] {
  padding: 0!important;
}

/* ── 工作台记录面板 ── */
#workspace-record-panel {
  background: #fff!important;
  border: none!important;
  margin-bottom: 16px!important;
  box-shadow: 0 1px 3px rgba(0,0,0,.06)!important;
  padding: 16px!important;
  border-radius: 12px!important;
}

/* 工作台记录下拉框 - 只给输入框加边框 */
#workspace-record-dropdown .wrap,
#workspace-record-dropdown .wrap-inner {
  border: 2px solid #7c3aed!important;
  border-radius: 12px!important;
  background: linear-gradient(135deg, #faf5ff, #f3e8ff)!important;
  box-shadow: 0 2px 8px rgba(124, 58, 237, 0.2)!important;
  transition: all 0.3s!important;
}

#workspace-record-dropdown .wrap:hover,
#workspace-record-dropdown .wrap-inner:hover {
  border-color: #6d28d9!important;
  box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3)!important;
}

/* 工作台记录按钮容器 */
#workspace-record-buttons {
  gap: 8px!important;
  min-width: 0!important;
}

#workspace-record-buttons > .gr-row {
  gap: 8px!important;
  margin-bottom: 0!important;
}

#workspace-record-buttons > .gr-row:first-child {
  margin-bottom: 8px!important;
}/* 工作台记录按钮样式 */
#workspace-record-panel button {
  font-weight: 600!important;
  transition: all .2s!important;
  border-radius: 6px!important;
  font-size: 13px!important;
  background: #fff!important;
  min-width: 80px!important;
  padding: 8px 12px!important;
}

#workspace-record-panel button.primary {
  background: linear-gradient(135deg, #7c3aed, #a855f7)!important;
  box-shadow: 0 2px 8px rgba(124,58,237,.3)!important;
  border: none!important;
  color: #fff!important;
}

#workspace-record-panel button.primary:hover {
  transform: translateY(-1px)!important;
  box-shadow: 0 4px 14px rgba(99,102,241,.45)!important;
}

#workspace-record-panel button.secondary {
  background: #fff!important;
  border: 1.5px solid #e2e8f0!important;
  color: #64748b!important;
}

#workspace-record-panel button.secondary:hover {
  background: #f8fafc!important;
  border-color: #cbd5e1!important;
  color: #475569!important;
}

/* 删除按钮特殊样式 */
#workspace-record-panel button.danger-btn {
  color: #ef4444!important;
  border-color: #fecaca!important;
}

#workspace-record-panel button.danger-btn:hover {
  background: #fef2f2!important;
  border-color: #ef4444!important;
}

.workspace-delete-btn:hover {
  background: #fef2f2!important;
  border-color: #ef4444!important;
  color: #dc2626!important;
}

/* 危险按钮样式 */
.danger-btn {
  color: #ef4444!important;
  border-color: #fecaca!important;
}

.danger-btn:hover {
  background: #fef2f2!important;
  border-color: #ef4444!important;
  color: #dc2626!important;
}

/* 工作台记录列表样式 */
.workspace-record-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-height: 300px;
  overflow-y: auto;
  padding: 2px;
}

.workspace-record-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 14px;
  background: #fafafa;
  border: 1.5px solid #e5e7eb;
  border-radius: 10px;
  transition: all .2s;
}

.workspace-record-item:hover {
  background: #fff;
  border-color: #7c3aed;
  box-shadow: 0 2px 8px rgba(124,58,237,.1);
}

.record-info {
  flex: 1;
  min-width: 0;
}

.record-name {
  font-size: 14px;
  font-weight: 700;
  color: #0f172a;
  margin-bottom: 4px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.record-time {
  font-size: 12px;
  color: #64748b;
}

.record-actions {
  display: flex;
  gap: 6px;
  flex-shrink: 0;
  margin-left: 12px;
}

.record-restore-btn,
.record-delete-btn {
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 600;
  border: 1.5px solid;
  cursor: pointer;
  transition: all .2s;
  background: #fff;
  font-family: inherit;
}

.record-restore-btn {
  color: #7c3aed;
  border-color: #ddd6fe;
}

.record-restore-btn:hover {
  background: #f3e8ff;
  border-color: #7c3aed;
  transform: translateY(-1px);
}

.record-delete-btn {
  color: #ef4444;
  border-color: #fecaca;
  min-width: 36px;
}

.record-delete-btn:hover {
  background: #fef2f2;
  border-color: #ef4444;
  transform: translateY(-1px);
}

/* 工作台记录提示信息样式 */
#workspace-record-panel .hint-ok,
#workspace-record-panel .hint-warn,
#workspace-record-panel .hint-err {
  margin-top: 12px!important;
}

/* ── 按钮状态颜色增强 ── */
.gr-button-primary:active,button.primary:active{
  transform:translateY(0px)!important;
  box-shadow:0 2px 8px rgba(99,102,241,.3)!important;
}

/* ── 工作台面板阴影优化 ── */
.panel {
  box-shadow: 0 4px 20px rgba(0,0,0,.06)!important;
  border-radius: 16px!important;
}

/* ── Gradio flex 修复 ── */
.stretch>div>.column>*,.stretch>div>.column>.form>*{flex-grow:0!important;}

/* ── 描边颜色选择器加粗边框 ── */
#sub-outline-color input[type="color"],
#sub-outline-color .color-picker-input,
#sub-outline-color input{
  border-width:3px!important;
  border-color:#64748b!important;
}

/* ── Gradio dialog按钮贴边边框 ── */
.dialog-button, button.dialog-button,
[class*="dialog-button"][class*="svelte"],
button[class*="dialog-button"] {
  border:1.5px solid #e2e8f0!important;
  border-radius:8px!important;
}

/* ── AI功能按钮样式 ── */
button:has-text("✨ AI改写"),
button:has-text("✨ AI优化"),
button[value*="AI改写"],
button[value*="AI优化"] {
  background:linear-gradient(135deg,#f0f9ff,#e0f2fe)!important;
  border:1.5px solid #7dd3fc!important;
  color:#0369a1!important;
  font-weight:700!important;
  transition:all .2s!important;
}

button:has-text("✨ AI改写"):hover,
button:has-text("✨ AI优化"):hover,
button[value*="AI改写"]:hover,
button[value*="AI优化"]:hover {
  background:linear-gradient(135deg,#e0f2fe,#bae6fd)!important;
  border-color:#38bdf8!important;
  transform:translateY(-1px)!important;
  box-shadow:0 4px 12px rgba(14,165,233,.25)!important;
}

/* ══════════════════════════════════════
   文案提取面板样式
   ══════════════════════════════════════ */
.extract-panel {
  background: linear-gradient(135deg, #fdf4ff 0%, #fae8ff 50%, #f5d0fe 100%)!important;
  border: 2px solid #e879f9!important;
  border-radius: 14px!important;
  padding: 14px 16px!important;
  margin-bottom: 14px!important;
  box-shadow: 0 2px 12px rgba(217, 70, 239, 0.12)!important;
  transition: all 0.3s ease!important;
}

.extract-panel:hover {
  box-shadow: 0 4px 20px rgba(217, 70, 239, 0.2)!important;
  border-color: #d946ef!important;
}

.extract-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
  padding-bottom: 10px;
  border-bottom: 1.5px solid rgba(217, 70, 239, 0.2);
}

.extract-icon {
  font-size: 18px;
  filter: drop-shadow(0 2px 4px rgba(217, 70, 239, 0.3));
}

.extract-title {
  font-size: 14px;
  font-weight: 700;
  color: #86198f;
  letter-spacing: 0.3px;
}

.extract-badge {
  margin-left: auto;
  font-size: 10px;
  font-weight: 800;
  padding: 3px 10px;
  border-radius: 20px;
  background: linear-gradient(135deg, #d946ef, #a855f7);
  color: #fff;
  box-shadow: 0 2px 6px rgba(168, 85, 247, 0.4);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.extract-input textarea {
  background: #fff!important;
  border: 1.5px solid #e9d5ff!important;
  border-radius: 10px!important;
  font-size: 13px!important;
  transition: all 0.2s!important;
}

.extract-input textarea:focus {
  border-color: #d946ef!important;
  box-shadow: 0 0 0 3px rgba(217, 70, 239, 0.15)!important;
}

.extract-btn {
  background: linear-gradient(135deg, #d946ef, #a855f7)!important;
  border: none!important;
  color: #fff!important;
  font-weight: 700!important;
  border-radius: 10px!important;
  box-shadow: 0 2px 8px rgba(168, 85, 247, 0.35)!important;
  transition: all 0.2s!important;
  min-width: 120px!important;
}

.extract-btn:hover {
  transform: translateY(-2px)!important;
  box-shadow: 0 4px 16px rgba(168, 85, 247, 0.45)!important;
}

.extract-btn:active {
  transform: translateY(0)!important;
}

.extract-tip {
  font-size: 11px;
  color: #a855f7;
  padding: 6px 12px;
  display: flex;
  align-items: center;
  font-weight: 500;
}

.extract-hint .hint-ok {
  background: linear-gradient(135deg, #ecfdf5, #d1fae5)!important;
  border: 1.5px solid #34d399!important;
  color: #065f46!important;
  padding: 8px 12px!important;
  border-radius: 8px!important;
  font-size: 12px!important;
  margin-top: 8px!important;
}

.extract-hint .hint-err {
  background: linear-gradient(135deg, #fef2f2, #fee2e2)!important;
  border: 1.5px solid #f87171!important;
  color: #991b1b!important;
  padding: 8px 12px!important;
  border-radius: 8px!important;
  font-size: 12px!important;
  margin-top: 8px!important;
}

.extract-hint .hint-loading {
  background: linear-gradient(135deg, #fdf4ff, #fae8ff)!important;
  border: 1.5px solid #e879f9!important;
  color: #86198f!important;
  padding: 8px 12px!important;
  border-radius: 8px!important;
  font-size: 12px!important;
  margin-top: 8px!important;
  animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}


/* ── 右侧两列布局优化 ── */
.workspace > .column > .row{
  gap:16px!important;
  align-items:stretch!important;
}
.workspace > .column > .row > .column{
  gap:16px!important;
  display:flex!important;
  flex-direction:column!important;
}

/* 步骤3和步骤4的面板高度自适应 */
#output-video-col{
  flex:1!important;
  display:flex!important;
  flex-direction:column!important;
}


/* ── 强制所有步骤容器应用白色背景 ── */
.workspace > .column.panel{
  background:#fff!important;
  border:1px solid #e5e7eb!important;
  border-radius:16px!important;
  padding:16px!important;
  box-shadow:0 2px 8px rgba(0,0,0,.06)!important;
}

/* Gradio内部容器保持默认 */
.panel .form,
.panel .block{
  background:transparent!important;
  border:none!important;
  box-shadow:none!important;
}


/* ── 修复Gradio组件背景 ── */
/* 只有明确标记为panel的才有白色背景和圆角 */
.workspace > .column.panel{
  background:#fff!important;
  border:1px solid #e5e7eb!important;
  border-radius:16px!important;
  padding:16px!important;
  box-shadow:0 2px 8px rgba(0,0,0,.06)!important;
}


/* ── component-20 白色背景 ── */
#component-20{
  background:#fff!important;
  padding:10px!important;
  border-radius:8px!important;
}


/* ── 全局移除 svelte-1nguped 背景和边框 ── */
div.svelte-1nguped,
.svelte-1nguped{
  background:transparent!important;
  border:none!important;
}

/* ── 特定组件白色背景样式 ── */
#component-36,
#component-33,
#component-100,
#component-104,
#component-119,
#component-123,
#component-173,
#component-210,
#component-229,
#component-251,
#sub-video-panel {
  background: #fff!important;
  border-radius: 12px!important;
  padding: 8px!important;
  border: 1px solid #e5e7eb!important;
}



/* 字幕视频面板特殊样式 */
#sub-video-panel {
  margin-top: 16px!important;
  margin-bottom: 16px!important;
}




/* ── 字体下拉框样式预览 ── */
/* 为每个字体选项添加对应的字体样式 */
@font-face {
  font-family: '云峰飞云体';
  src: url('fonts/云峰飞云体.ttf') format('truetype');
}
@font-face {
  font-family: '小米Sans';
  src: url('fonts/小米Sans.ttf') format('truetype');
}
@font-face {
  font-family: '思源黑体';
  src: url('fonts/思源黑体.otf') format('opentype');
}
@font-face {
  font-family: '抖音美好体';
  src: url('fonts/抖音美好体.otf') format('opentype');
}
@font-face {
  font-family: '玄宗体';
  src: url('fonts/玄宗体.otf') format('opentype');
}
@font-face {
  font-family: '阿里巴巴普惠体';
  src: url('fonts/阿里巴巴普惠体.ttf') format('truetype');
}
@font-face {
  font-family: '霞鹜文楷';
  src: url('fonts/霞鹜文楷.ttf') format('truetype');
}

/* 字体下拉框选项样式 */
.font-dropdown-option {
  padding: 8px 12px !important;
  font-size: 16px !important;
  line-height: 1.5 !important;
}

/* 系统字体 */
.font-dropdown-option[data-font="系统字体"] {
  font-family: 'Microsoft YaHei', system-ui, sans-serif !important;
}

/* 自定义字体 */
.font-dropdown-option[data-font="云峰飞云体"] {
  font-family: '云峰飞云体', 'Microsoft YaHei', sans-serif !important;
}
.font-dropdown-option[data-font="小米Sans"] {
  font-family: '小米Sans', 'Microsoft YaHei', sans-serif !important;
}
.font-dropdown-option[data-font="思源黑体"] {
  font-family: '思源黑体', 'Microsoft YaHei', sans-serif !important;
}
.font-dropdown-option[data-font="抖音美好体"] {
  font-family: '抖音美好体', 'Microsoft YaHei', sans-serif !important;
}
.font-dropdown-option[data-font="玄宗体"] {
  font-family: '玄宗体', 'Microsoft YaHei', sans-serif !important;
}
.font-dropdown-option[data-font="阿里巴巴普惠体"] {
  font-family: '阿里巴巴普惠体', 'Microsoft YaHei', sans-serif !important;
}
.font-dropdown-option[data-font="霞鹜文楷"] {
  font-family: '霞鹜文楷', 'Microsoft YaHei', sans-serif !important;
}


/* ── 视频放大预览关闭按钮 ── */
.zdai-lightbox-close-btn {
  position: fixed !important;
  top: 18px !important;
  right: 18px !important;
  z-index: 999999 !important;
  background: rgba(0, 0, 0, 0.75) !important;
  color: #fff !important;
  border: 2px solid rgba(255, 255, 255, 0.6) !important;
  border-radius: 12px !important;
  padding: 10px 22px !important;
  font-size: 15px !important;
  font-weight: 700 !important;
  font-family: 'Microsoft YaHei', system-ui, sans-serif !important;
  cursor: pointer !important;
  backdrop-filter: blur(8px) !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4) !important;
  transition: all 0.2s ease !important;
  letter-spacing: 1px !important;
  user-select: none !important;
}
.zdai-lightbox-close-btn:hover {
  background: rgba(239, 68, 68, 0.85) !important;
  border-color: #fff !important;
  transform: scale(1.05) !important;
  box-shadow: 0 6px 24px rgba(239, 68, 68, 0.4) !important;
}
